<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <div th:replace="fragments/bootstrap-styles"></div>

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
          integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <link href="https://unpkg.com/gijgo@1.9.13/css/gijgo.min.css" rel="stylesheet" type="text/css"/>

</head>
<body class="bg-dark">
<div th:replace="fragments/nav-bar"></div>
<div th:replace="fragments/message"></div>


<div th:replace="fragments/calendar-page-switch"></div>

<div class="container-fluid">
    <div class="row">
        <tr th:each="day :${calendarPreview}">
            <div th:class="
            ${day.getId().getDayOfWeekPLShort() == 'Sob' || day.getId().getDayOfWeekPLShort() == 'Nie'}
            ? 'col-3 col-sm-2 col-lg-1 p-0 pb-2'
            : 'col-6 col-sm-4 col-lg-2 p-0 pb-2'">
                <div th:class="
                ${day.getId().equals(today)}
                ? 'shadow alert text-white bg-warning rounded-0 h-100 p-0 m-0'
                : 'shadow alert text-white bg-dark rounded-0 h-100 p-0 m-0'">
                    <form id="dayForm" th:action="@{/calendar/browser}" th:object="${dateDto}" method="get">
<!--                        <div class="card-body">-->
                            <input type="hidden" name="localDate" th:value="${day.id.localDate}">
                            <button type="submit" id="dayButton"
                                    th:text="
                                    ${day.getId().getDayOfWeekPLShort() == 'Sob' || day.getId().getDayOfWeekPLShort() == 'Nie'}
                                    ? ${day.getId().getDayOfWeekPLShort()}
                                    : ${day.getId().getDayValueWithZero()} + '.' + ${day.getId().getMonthValueWithZero()} + ' - ' + ${day.getId().getDayOfWeekPLShort()} "
                                    class="btn btn-sm text-white stretched-link rounded-0"></button>
                            <table class="shadow table table-sm table-dark p-0">
                                <tr th:each="car :${cars}"
                                    th:class="${day.availableCars.contains(car.getId())} ? 'bg-secondary':'bg-danger text-dark'">
                                    <td th:text="
                                    ${day.getId().getDayOfWeekPLShort() == 'Sob' || day.getId().getDayOfWeekPLShort() == 'Nie'}
                                    ? ${car.getModel()}
                                    : ${car.getBrand()} + ' ' + ${car.getModel()}" ></td>
                                </tr>
                            </table>
<!--                        </div>-->
                    </form>
                </div>

            </div>
        </tr>
    </div>
</div>
<div th:replace="fragments/calendar-page-switch"></div>

<div th:replace="fragments/bootstrap-scripts"></div>
</body>
</html>